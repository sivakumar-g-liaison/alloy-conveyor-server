#
# Copyright 2014 Liaison Technologies, Inc.
# This software is the confidential and proprietary information of
# Liaison Technologies, Inc. ("Confidential Information").  You shall
# not disclose such Confidential Information and shall use it only in
# accordance with the terms of the license agreement you entered into
# with Liaison Technologies.
#

# You must provide any specific packages that must be scanned for karyon for finding Application and Component classes.
# By default karyon only searches com.netflix package

# The package specified here is the root package, any sub packages under the root will also be scanned.
com.netflix.karyon.server.base.packages=com.liaison

# The health check handler for this application.
com.netflix.karyon.health.check.handler.classname=com.liaison.mailbox.service.health.HealthCheck

# Comment this property if you need eureka integration and populate eureka-client.properties with your environment details.
com.netflix.karyon.eureka.disable=true

########################################################DATABASE CONFIGURATIONS############################################################
# config time database connectivity properties
com.liaison.dtdm.DB_DRIVER=oracle.jdbc.OracleDriver
com.liaison.dtdm.DB_URL=jdbc:oracle:thin:@(description=(address=(protocol=TCP)(host=ld1p-lpdbora01.liaison.lia2)(port= 1521))(connect_data=(service_name=EUPROD1.liaison.lia2)))
com.liaison.dtdm.DB_USER=PROD_GATEWAY_DTDM_APPL
com.liaison.dtdm.DB_MINPOOLSIZE=30
com.liaison.dtdm.DB_MAXPOOLSIZE=120
com.liaison.dtdm.DB_CONNECTIONFACTORYCLASSNAME=oracle.jdbc.pool.OracleDataSource
com.liaison.dtdm.DB_DESCRIPTION=G2 Mailbox DTDM UI UCP in Tomcat (DEV)
com.liaison.dtdm.DB_VALIDATECONNECTIONONBORROW=true
# property of our db connection initialization query
com.liaison.initializationQuery=SELECT * FROM DUAL

# runtime database connectivity properties
com.liaison.rtdm.DB_DRIVER=oracle.jdbc.OracleDriver
com.liaison.rtdm.DB_URL=jdbc:oracle:thin:@(description=(address=(protocol=TCP)(host=ld1p-lpdbora02.liaison.lia2)(port= 1521))(connect_data=(service_name=EUPROD2.liaison.lia2)))
com.liaison.rtdm.DB_USER=PROD_GATEWAY_RTDM_APPL
com.liaison.rtdm.DB_MINPOOLSIZE=30
com.liaison.rtdm.DB_MAXPOOLSIZE=120
com.liaison.rtdm.DB_CONNECTIONFACTORYCLASSNAME=oracle.jdbc.pool.OracleDataSource
com.liaison.rtdm.DB_DESCRIPTION=G2 Mailbox RTDM UI UCP in Tomcat (DEV)
com.liaison.rtdm.DB_VALIDATECONNECTIONONBORROW=true

# jpa persistence unit name
com.liaison.persistenceUnitName.dtdm=mailbox-dtdm
com.liaison.persistenceUnitName.rtdm=mailbox-rtdm

#///###########################\\\#
######## QUEUE Properties #########

java.naming.provider.url=jnp://ld1p-lvmgque01.liaison.lia2:1199,jnp://ld1p-lvmgque03.liaison.lia2:1199,jnp://ld1p-lvmgque02.liaison.lia2:1199,jnp://ld1p-lvmgque04.liaison.lia2:1199

#\\\###########################///#
#\\\###########################///#


######################################################## PROCESSOR CONFIGURATIONS############################################################

#G2 JS Engine Configurations
scripting.compile.cache.max.size=100
scripting.compile.cache.expire.timeout=5
scripting.compile.cache.expire.timeunit=MINUTES

# Script Execution Values
scripting.executor.threadpool.size = 30
scripting.thread.execution.timeout = 30
scripting.thread.max.execution.timeout = 120
scripting.thread.execution.timeunit = MINUTES
scripting.thread.execution.stack.depth = 1000

# Script ClassLoader Values
#
# Note, java.lang.reflect.Proxy was removed from the blacklist to get the end-to-end test to run.
# java.lang.reflect.Method,
scripting.classloader.white.list = java.io.PrintWriter, java.io.File
scripting.classloader.black.list = java.lang.System, java.lang.Thread, java.lang.reflect.AccessibleObject, java.lang.reflect.Array, java.lang.reflect.Constructor<T>, java.lang.reflect.Field, java.lang.reflect.Modifier, java.lang.reflect.ReflectPermission

# Properties to read JS file from  git lab for script execution through commons-scripting library
com.liaison.gitlab.script.server.host=ld1p-vpgitent.liaison.lia2
com.liaison.gitlab.script.server.port=443
com.liaison.gitlab.script.project.name=g2/mailbox-extensions
com.liaison.gitlab.script.branch.name=master
#com.liaison.gitlab.script.server.password=[AVAILABLE IN SECURE.PROPERTIES]
com.liaison.gitlab.script.server.protocol=https

# Activity GitLab properties
com.liaison.gitlab.mailbox.script.server.host=https://ld1p-vpgitent.liaison.lia2
com.liaison.gitlab.mailbox.script.project.id=g2%2Fmailbox-extensions
com.liaison.gitlab.mailbox.script.folder=gitlab:/processor-scripts

#Generic Mount Location - FOR CONFIGURATION PATTERN REPLACEMENT
MOUNT_POINT=/data

# Directory sweeper configuration to check files are modified within the given time limit in SECONDS
last.modified.tolerance = 30

# MAIL SERVER CONFIGURATIONS
mail.host=smtpout.liaison.com
mail.from=mailboxservice-notifier@liaison.com

# FOR JOB MONITORING ADMIN USE CASES - FOR GRACEFULLY INTTERUPTING THE JOB PROCESSING.
default.job.search.period.in.hours=24
#Set to 24 hours with the intention to turn of the checks
check.for.interrupt.signal.frequency.in.sec=86400

# Service Broker Sync interface info
com.liaison.servicebroker.sync.uri=https://ld1p-vpsbrt.liaison.lia2/service-broker/process/workticket
com.liaison.servicebroker.async.uri=https://ld1p-vpsbasy.liaison.lia2/service-broker/process/workticket
# This is 10meg
com.liaison.servicebroker.sync.max.request.size=10485760

#########################################################KMS Configurations########################################################
# G2 service client properties
client.key-management.baseUrl=https://ld1p-vpkms.liaison.lia2/key-management/

#While communicating with KMS the connection timeout value to be used
kms.connection.timout.interval=60000

#########################################################ACL FILTER Configurations########################################################
# Override acl filter check
liaison.acl.filter.skipACLFilter=false
liaison.acl.filter.skipACLSignatureCheck=false
signatureverifier.publickey.url=https://ld1p-vpkms.liaison.lia2/key-management/export/public/
# bug in aclresourcemap related to dto level acl.DO NOT CHANGE THIS
liaison.acl.packages=com.liaison.fakepath

#UserManagement authentication URL
usermanagement.url.authenticate = https://ld1p-vpusrmg.liaison.lia2/usermanagement/rest/usermanagement/authenticate

#BOOTSTRAP PROPERTIES
#bootstrap.server.url=sftp://ld1p-vpboot.liaison.prod:22
#bootstrap.server.username=boot
#bootstrap.client.enablehostchecking=false
#bootstrap.client.knownhost.filepath=/secure/tomcat/.ssh/known_hosts
bootstrap.client.privatekey.filepath=/secure/tomcat/.ssh/mbxbootstrapprikey.pem
bootstrap.client.privatekey.passphrase.filepath=/secure/tomcat/.ssh/passphrase
#bootstrap.remote.keypair.passphrase.filepath=mbx-bootstrap/mboxsignkeypwd.file
#bootstrap.remote.keypair.filepath=mbx-bootstrap/signandverifykeystore.mbox.jks

bootstrap.keypair.location=local
bootstrap.client.keypair.filepath=/secure/tomcat/bootstrap/signandverifykeystore2017.jks
bootstrap.client.keypair.passphrase.filepath=/secure/tomcat/bootstrap/signkeypwd.file


##Processor HTTP sync/async URL
processor.sync.url.display.prefix.default = https://ld1p-vpmbox.liaison.lia2/g2mailboxservice/process/sync?
processor.async.url.display.prefix.default = https://ld1p-vpmbox.liaison.lia2/g2mailboxservice/process/async?
processor.sync.url.display.prefix.lowsecure = https://ld1p-vpmbox.liaison.lia2/g2mailboxservice/process/sync?
processor.async.url.display.prefix.lowsecure = https://ld1p-vpmbox.liaison.lia2/g2mailboxservice/process/async?

#GEM Integration
com.liaison.acl.manifest.url = https://ld1p-vpacl.liaison.lia2/globalenterprisemanager/rest/v1/gem/verifyAndGetManifest

#Properties required for Manifest request generation
com.liaison.acl.request.runtime.platform.name=G2
com.liaison.acl.request.runtime.domain.type=SOA_SERVICE
com.liaison.acl.request.runtime.domain.name=Liaison Technologies
com.liaison.acl.request.runtime.domain.internalName=LSN_TECH
com.liaison.acl.request.runtime.domain.roles=RUNTIME_ADMIN
com.liaison.acl.request.runtime.service.name=MAILBOX
com.liaison.acl.request.runtime.created.by=MAILBOX

#ACL Integration
#acl_signer_public_key_guid=660D3FFBC9DE48D29AEB1F5209EF9342
#com.liaison.acl.signer.public.key.group.guid=B39BB5A08463435F88AFE5676FA32687
com.liaison.acl.signer.public.key.group.guid=B5AB3682CBEF4E6DBA71EB2A861AB815

#SLA Properties
#NEVER Change this configuration, the only unit supported is MINUTES
mailbox.sla.time.configuration.unit=MINUTES

##############################
# FS2 properties             #
##############################

# flag to use a local filesystem FS2
fs2.storage.file.default.use=false
fs2.storage.file.default.type=file
fs2.storage.file.default.location=local
fs2.storage.file.default.mount=/tmp

#############################################################
# START FS2 PROPERTIES FOR PAYLOADS
#
# Mailbox supports at least two types and at least
# one location.  The types must be:
#   secure
#   unsecure
#
# The one location should be the closest one and is the
# default.
#   prod - this is for spectrum
#	prod-boss - this is for boss
#
#############################################################

# Storage Identifiers
fs2.storage.identifiers=secure@prod,unsecure@prod,secure@prod-boss,unsecure@prod-boss

# The default location has to be one of the locations above
# The default should always be the closest instance
fs2.storage.location.default=prod

# Secure spectrum properties
fs2.storage.secure@prod.type=SPECTRUM
fs2.storage.secure@prod.ip=ld1p-vpspectrum.liaison.lia2
fs2.storage.secure@prod.port=443
fs2.storage.secure@prod.username=g2prod
#fs2.storage.secure@prod.password Update secure.properties
fs2.storage.secure@prod.source=G2_MBX
fs2.storage.secure@prod.spaceName=g2-prod
fs2.storage.secure@prod.dataDefinition=Payload
fs2.storage.secure@prod.dataRetentionTTL=2592000
fs2.storage.secure@prod.threadPoolSize=20
fs2.storage.secure@prod.threadPrepareTimeOut=60
fs2.storage.secure@prod.threadWriteTimeOut=5000

#Unsecure spectrum
fs2.storage.unsecure@prod.type=SPECTRUM
fs2.storage.unsecure@prod.ip=ld1p-vpspectrum.liaison.lia2
fs2.storage.unsecure@prod.port=443
fs2.storage.unsecure@prod.username=g2prod
#fs2.storage.unsecure@prod.password Update secure.properties
fs2.storage.unsecure@prod.source=G2_MBX
fs2.storage.unsecure@prod.spaceName=g2-prod
fs2.storage.unsecure@prod.dataDefinition=Payload
fs2.storage.unsecure@prod.dataRetentionTTL=2592000
fs2.storage.unsecure@prod.threadPoolSize=20
fs2.storage.unsecure@prod.threadPrepareTimeOut=60
fs2.storage.unsecure@prod.threadWriteTimeOut=5000

# properties for secure@prod-boss
fs2.storage.secure@prod-boss.type=BOSS
fs2.storage.secure@prod-boss.url=https://ld1p-vpkvgw.liaison.lia2
fs2.storage.secure@prod-boss.username=g2boss_svc@liaison.lia2
# fs2.storage.secure@prod-boss.password=Update secure.properties
fs2.storage.secure@prod-boss.tenancy=g2_tenancy

# properties for unsecure@prod-boss
fs2.storage.unsecure@prod-boss.type=BOSS
fs2.storage.unsecure@prod-boss.url=https://ld1p-vpkvgw.liaison.lia2
fs2.storage.unsecure@prod-boss.username=g2boss_svc@liaison.lia2
# fs2.storage.unsecure@prod-boss.password=Update secure.properties
fs2.storage.unsecure@prod-boss.tenancy=g2_tenancy

#############################################################
# END FS2 PROPERTIES FOR PAYLOADS
#############################################################

#default script template name
mailbox.script.default.template=defaultScriptTemplate.js
#For GLASS Logging
com.liaison.lens.hub=EU-PROD

com.liaison.deployAsDropbox=false

sftp.group.name=g2_prod_ext_sftp_users
ftp.group.name=g2_prod_ext_ftp_users
ftps.group.name=g2_prod_ext_ftps_users

#########################################
#PROPERTIES TO BE ADDED TO SECURE PROPERTIES FILE
#########################################
#com.liaison.dtdm.DB_PASSWORD=[REQUIRED]
#com.liaison.rtdm.DB_PASSWORD=[REQUIRED]
#com.liaison.jms.ssl.truststore.password.processedPayload=[REQUIRED]
#com.liaison.jms.ssl.truststore.password.sweeper=[REQUIRED]
#com.liaison.jms.ssl.truststore.password.processor=[REQUIRED]
#fs2.storage.spectrum.secure.prod.password=[REQUIRED]
#fs2.storage.spectrum.unsecure.prod.password=[REQUIRED]
#com.liaison.gitlab.mailbox.script.private_token=[REQUIRED]
#mailbox.self.signed.trustore.passphrase=[REQUIRED]

#internal engineering DL to notify any failure cases 
com.liaison.mailbox.error.receiver=p0o5a6u9n2i5z5w7@liaison.slack.com

# default sla configuration in minutes
com.liaison.mailbox.default.customer.sla=120 
com.liaison.mailbox.default.mailbox.sla=30
com.liaison.mailbox.default.sla.notification=true
com.liaison.mailbox.default.sla.max.notification.count=3

#location of shell script which assign permissions to the created Home Directory for machine accounts
permission.script.path=/secure/tomcat/production/setupCustomerMachineAccount.sh
sftp.user.group.name=g2_prod_ext_sftp_users

#location of shell script to delete the created Home Directory for machine accounts
deletion.script.path=/secure/tomcat/production/deleteHomeFolders.sh

#Home Directory Creation for Machine Accounts
ftp.user.home.path=/data/ftp
ftps.user.home.path=/data/ftps
sftp.user.home.path=/data/sftp
http.user.home.path=/data/http
https.user.home.path=/data/https

#service broker base url
com.liaison.servicebroker.api.baseUrl=https://ld1p-vpsbrt.liaison.lia2/service-broker/

@next=g2mailboxservice-${@stack}.properties
